{
 "accept_payment": 0,
 "allow_comments": 0,
 "allow_delete": 0,
 "allow_edit": 0,
 "allow_incomplete": 0,
 "allow_multiple": 0,
 "allow_print": 0,
 "amount": 0.0,
 "amount_based_on_field": 0,
 "anonymous": 0,
 "apply_document_permissions": 0,
 "button_label": "Save",
 "client_script": "// Captcha-related DOM elements\r\nconst captchaText = document.getElementById('captcha-text');\r\nconst captchaInput = document.getElementById('captcha-input');\r\nconst refreshCaptchaButton = document.getElementById('refresh-captcha');\r\nconst submitFormButton = document.getElementById('submit-form');\r\n\r\n// Function to generate random captcha\r\nfunction generateCaptcha() {\r\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    let captcha = '';\r\n    for (let i = 0; i < 6; i++) {\r\n        captcha += chars.charAt(Math.floor(Math.random() * chars.length)) + ' '; // Adding space for readability\r\n    }\r\n    return captcha.trim(); // Remove the trailing space at the end\r\n}\r\n\r\n// Function to refresh captcha\r\nfunction refreshCaptcha() {\r\n    const newCaptcha = generateCaptcha();\r\n    captchaText.textContent = newCaptcha; // Displaying captcha with spaces\r\n    captchaInput.value = ''; // Clear the captcha input field\r\n}\r\n\r\n// Refresh captcha initially\r\nrefreshCaptcha();\r\n\r\n// Event listener for refresh button click\r\nrefreshCaptchaButton.addEventListener('click', refreshCaptcha);\r\n\r\n// Event listener for form submission\r\nsubmitFormButton.addEventListener('click', function() {\r\n    // Get the displayed captcha (with spaces) and remove spaces for comparison\r\n    const displayedCaptcha = captchaText.textContent.replace(/\\s+/g, '');\r\n    \r\n    // Verify captcha (compare without spaces)\r\n    if (captchaInput.value === displayedCaptcha) {\r\n        // Optional: Disable form submission button to prevent double submission\r\n        submitFormButton.disabled = true;\r\n\r\n        // Save the document using Frappe's web_form.save() method\r\n        //frappe.web_form.save().then((r) => {\r\n        //    if (!r.exc) {\r\n        //        // Success message\r\n        //        alert('Document saved successfully!');\r\n        //        window.location.href = '/desk#Form/YourDoctype/' + r.doc.name;\r\n\r\n                // Reset form fields and refresh captcha\r\n        //        refreshCaptcha();\r\n        //        document.getElementById('apply-form').reset();\r\n\r\n                // Re-enable submit button after resetting\r\n        //        submitFormButton.disabled = false;\r\n        //    } else {\r\n        //        // Error message\r\n        //        alert('Error: ' + r.exc);\r\n        //        submitFormButton.disabled = false; // Re-enable the button on error\r\n        //    }\r\n        //}).catch((error) => {\r\n        //    console.error('Error saving document:', error);\r\n        //    alert('An error occurred while saving the document. Please try again.');\r\n        //    submitFormButton.disabled = false; // Re-enable the button on error\r\n        //});\r\n        frappe.web_form.save({\r\n            callback: function(r) {\r\n                if (!r.exc) {\r\n                    alert('Document saved successfully!');\r\n                    window.location.href = '/desk#Form/YourDoctype/' + r.doc.name;\r\n\r\n                    refreshCaptcha();\r\n                    document.getElementById('apply-form').reset();\r\n                    submitFormButton.disabled = false;\r\n                } else {\r\n                    alert('Error: ' + r.exc);\r\n                    submitFormButton.disabled = false;\r\n                }\r\n            },\r\n            error: function(error) {\r\n                console.error('Error saving document:', error);\r\n                alert('An error occurred while saving the document. Please try again.');\r\n                submitFormButton.disabled = false;\r\n            }\r\n        });\r\n        \r\n    } else {\r\n        alert('CAPTCHA verification failed. Please try again.');\r\n        refreshCaptcha();\r\n    }\r\n});\r\n",
 "condition_json": "[]",
 "creation": "2024-10-04 10:05:54.001688",
 "currency": "INR",
 "custom_css": ".section-head {\n    background-color:#434343;\n    color:white;\n    margin-bottom:5px;\n    width:100%;\n    padding:5px 10px 5px 20px !important;\n    border-radius:10px;\n    font-size:14px !important;\n    \n}\n.web-form-header .web-form-head {\n    border-bottom:none;\n    background-color:#EE502D;\n    color:white;\n    padding:5px 10px 5px 20px !important;\n    border-radius:10px;\n}\n.title h1 {\n    \n    color:white;\n    font-size:20px !important;\n    padding:5px;\n    font-weight:800px !important;\n\n}\n\n.web-form .web-form-body {\n    background-color:#fafafa;\n    padding:10px;\n    width:100%;\n    \n}\n\n.form-group1 {\n    margin-top:5px;\n}\n.captcha {\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n}\n#captcha-text {\n    width:100%;\n    font-size: 12px;\n   /* background-color: #eee;*/\n    padding: 5px;\n    text-align:center;\n    margin-right: 5px;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    font-weight:1000;\n}\n#refresh-captcha {\n    background-color: #007bff;\n    color: white;\n    padding: 5px 10px;\n    cursor: pointer;\n    border-radius: 10px; /* Rounded corners */\n    border: 1px solid #ccc; /* Border */\n    transition: background-color 0.3s ease; /* Smooth hover effect */\n}\n#captcha-input {\n    width:100%;\n    padding: 5px;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    /*margin-bottom: 10px;*/\n    /*background-color: #eee;*/\n    font-size:12px;\n}\n.btn-primary {\n    background-color: #007bff;\n    color: white;\n    border: none;\n    padding: 10px 20px;\n    border-radius: 3px;\n    cursor: pointer;\n}\n\n.button1 {\n    background-color:#EE502D;\n    width:100px;\n    font-size:14px;\n    min-height:30px;\n    color:white;\n    border:none;\n    cursor: pointer;\n    border-radius: 20px; \n    transition: background-color 0.3s ease;\n}\n.form-actions {\n    text-align:right;\n}\n\n\n.web-form-actions .btn-primary {\n    display:none;\n}\n\n.web-form-footer .web-form-actions .right-area {\n    display:none!important;\n}\n\n",
 "doc_type": "Event Registration",
 "docstatus": 0,
 "doctype": "Web Form",
 "idx": 0,
 "is_standard": 1,
 "list_columns": [],
 "login_required": 0,
 "max_attachment_size": 0,
 "modified": "2024-10-16 16:18:03.431962",
 "modified_by": "Administrator",
 "module": "Custom Renewal",
 "name": "event-registration",
 "owner": "Administrator",
 "payment_button_label": "Buy Now",
 "published": 1,
 "route": "event-registration",
 "show_attachments": 0,
 "show_list": 0,
 "show_sidebar": 0,
 "title": "Event Registration",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "depends_on": "",
   "fieldname": "event",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Event",
   "max_length": 0,
   "max_value": 0,
   "options": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "event_name",
   "fieldtype": "Data",
   "hidden": 1,
   "label": "Event Name",
   "max_length": 0,
   "max_value": 0,
   "options": "",
   "read_only": 1,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Participant Details",
   "max_length": 0,
   "max_value": 0,
   "options": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "person_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Person name",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "company_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Company Name",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "email",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Email",
   "max_length": 0,
   "max_value": 0,
   "options": "Email",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Column Break",
   "hidden": 0,
   "label": "",
   "max_length": 0,
   "max_value": 0,
   "options": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "phone_number",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Phone Number",
   "max_length": 0,
   "max_value": 0,
   "options": "Phone",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "address",
   "fieldtype": "Small Text",
   "hidden": 0,
   "label": "Address",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "",
   "max_length": 0,
   "max_value": 0,
   "options": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "captcha",
   "fieldtype": "HTML",
   "hidden": 0,
   "label": "Captcha ",
   "max_length": 0,
   "max_value": 0,
   "options": "<link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\" rel=\"stylesheet\">\n\n<form id=\"apply-form\" method=\"post\">\n    <div class=\"form-group1\">\n        <div class=\"row\">\n            <!-- Captcha Display -->\n            <div class=\"col-3 captcha\">\n                <span id=\"captcha-text\">ABCD12</span>\n                <button id=\"refresh-captcha\" type=\"button\">\n                    <i class=\"fas fa-sync-alt\"></i>\n                </button>\n            </div>\n\n            <!-- Captcha Input with Placeholder -->\n            <div class=\"col-7 captcha\">\n                <input id=\"captcha-input\" required type=\"text\">\n            </div>\n\n            <!-- Submit Button -->\n            <div class=\"col-2 form-actions\">\n                <button class=\"button1\" id=\"submit-form\" type=\"button\">Save</button>\n            </div>\n        </div>\n    </div>\n</form>\n",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  }
 ]
}